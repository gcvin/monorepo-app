import{i as X,a as k,r as q}from"./isObject.U9U2HXiq.js";import{a5 as G,d as R,h as D,G as d,L as K,K as V}from"./framework.DI_Nd1JI.js";import{d as $,a as b,n as S,e as x,t as Y,i as w,f as Z,h as F,j as H,p as J}from"./create.CwGpzbaT.js";import{w as z}from"./with-install.BMI48HX4.js";const Q="van-hairline",ee=`${Q}--surround`;var ne=/\s/;function te(e){for(var n=e.length;n--&&ne.test(e.charAt(n)););return n}var ie=/^\s+/;function re(e){return e&&e.slice(0,te(e)+1).replace(ie,"")}var A=NaN,ae=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ce=/^0o[0-7]+$/i,le=parseInt;function j(e){if(typeof e=="number")return e;if(X(e))return A;if(k(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=k(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=re(e);var r=oe.test(e);return r||ce.test(e)?le(e.slice(2),r?2:8):ae.test(e)?A:+e}var W=function(){return q.Date.now()},se="Expected a function",ue=Math.max,fe=Math.min;function de(e,n,r){var o,s,u,f,t,a,i=0,g=!1,c=!1,m=!0;if(typeof e!="function")throw new TypeError(se);n=j(n)||0,k(r)&&(g=!!r.leading,c="maxWait"in r,u=c?ue(j(r.maxWait)||0,n):u,m="trailing"in r?!!r.trailing:m);function I(l){var y=o,p=s;return o=s=void 0,i=l,f=e.apply(p,y),f}function O(l){return i=l,t=setTimeout(v,n),g?I(l):f}function _(l){var y=l-a,p=l-i,L=n-y;return c?fe(L,u-p):L}function C(l){var y=l-a,p=l-i;return a===void 0||y>=n||y<0||c&&p>=u}function v(){var l=W();if(C(l))return T(l);t=setTimeout(v,_(l))}function T(l){return t=void 0,m&&o?I(l):(o=s=void 0,f)}function N(){t!==void 0&&clearTimeout(t),i=0,o=a=s=t=void 0}function E(){return t===void 0?f:T(W())}function P(){var l=W(),y=C(l);if(o=arguments,s=this,a=l,y){if(t===void 0)return O(a);if(c)return clearTimeout(t),t=setTimeout(v,n),I(a)}return t===void 0&&(t=setTimeout(v,n)),f}return P.cancel=N,P.flush=E,P}var ge="Expected a function";function Me(e,n,r){var o=!0,s=!0;if(typeof e!="function")throw new TypeError(ge);return k(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),de(e,n,{leading:o,maxWait:n,trailing:s})}const me={to:[String,Object],url:String,replace:Boolean};function xe({to:e,url:n,replace:r,$router:o}){e&&o?o[r?"replace":"push"](e):n&&(r?location.replace(n):location.href=n)}function ye(){const e=G().proxy;return()=>xe(e)}const[be,M]=$("badge"),ve={dot:Boolean,max:S,tag:x("div"),color:String,offset:Array,content:S,showZero:Y,position:x("top-right")};var Se=R({name:be,props:ve,setup(e,{slots:n}){const r=()=>{if(n.content)return!0;const{content:t,showZero:a}=e;return w(t)&&t!==""&&(a||t!==0&&t!=="0")},o=()=>{const{dot:t,max:a,content:i}=e;if(!t&&r())return n.content?n.content():w(a)&&Z(i)&&+i>+a?`${a}+`:i},s=t=>t.startsWith("-")?t.replace("-",""):`-${t}`,u=D(()=>{const t={background:e.color};if(e.offset){const[a,i]=e.offset,{position:g}=e,[c,m]=g.split("-");n.default?(typeof i=="number"?t[c]=b(c==="top"?i:-i):t[c]=c==="top"?b(i):s(i),typeof a=="number"?t[m]=b(m==="left"?a:-a):t[m]=m==="left"?b(a):s(a)):(t.marginTop=b(i),t.marginLeft=b(a))}return t}),f=()=>{if(r()||e.dot)return d("div",{class:M([e.position,{dot:e.dot,fixed:!!n.default}]),style:u.value},[o()])};return()=>{if(n.default){const{tag:t}=e;return d(t,{class:M("wrapper")},{default:()=>[n.default(),f()]})}return f()}}});const he=z(Se),[Ie,Ue]=$("config-provider"),Te=Symbol(Ie),[Pe,U]=$("icon"),pe=e=>e==null?void 0:e.includes("/"),Be={dot:Boolean,tag:x("i"),name:String,size:S,badge:S,color:String,badgeProps:Object,classPrefix:String};var $e=R({name:Pe,props:Be,setup(e,{slots:n}){const r=K(Te,null),o=D(()=>e.classPrefix||(r==null?void 0:r.iconPrefix)||U());return()=>{const{tag:s,dot:u,name:f,size:t,badge:a,color:i}=e,g=pe(f);return d(he,V({dot:u,tag:s,class:[o.value,g?"":`${o.value}-${f}`],style:{color:i,fontSize:b(t)},content:a},e.badgeProps),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n),g&&d("img",{class:U("image"),src:f},null)]}})}}});const Ce=z($e),[Ee,B]=$("loading"),ke=Array(12).fill(null).map((e,n)=>d("i",{class:B("line",String(n+1))},null)),Re=d("svg",{class:B("circular"),viewBox:"25 25 50 50"},[d("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),ze={size:S,type:x("circular"),color:String,vertical:Boolean,textSize:S,textColor:String};var Oe=R({name:Ee,props:ze,setup(e,{slots:n}){const r=D(()=>F({color:e.color},H(e.size))),o=()=>{const u=e.type==="spinner"?ke:Re;return d("span",{class:B("spinner",e.type),style:r.value},[n.icon?n.icon():u])},s=()=>{var u;if(n.default)return d("span",{class:B("text"),style:{fontSize:b(e.textSize),color:(u=e.textColor)!=null?u:e.color}},[n.default()])};return()=>{const{type:u,vertical:f}=e;return d("div",{class:B([u,{vertical:f}]),"aria-live":"polite","aria-busy":!0},[o(),s()])}}});const _e=z(Oe),[Ne,h]=$("button"),We=F({},me,{tag:x("button"),text:String,icon:String,type:x("default"),size:x("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:x("button"),loadingSize:S,loadingText:String,loadingType:String,iconPosition:x("left")});var De=R({name:Ne,props:We,emits:["click"],setup(e,{emit:n,slots:r}){const o=ye(),s=()=>r.loading?r.loading():d(_e,{size:e.loadingSize,type:e.loadingType,class:h("loading")},null),u=()=>{if(e.loading)return s();if(r.icon)return d("div",{class:h("icon")},[r.icon()]);if(e.icon)return d(Ce,{name:e.icon,class:h("icon"),classPrefix:e.iconPrefix},null)},f=()=>{let i;if(e.loading?i=e.loadingText:i=r.default?r.default():e.text,i)return d("span",{class:h("text")},[i])},t=()=>{const{color:i,plain:g}=e;if(i){const c={color:g?i:"white"};return g||(c.background=i),i.includes("gradient")?c.border=0:c.borderColor=i,c}},a=i=>{e.loading?J(i):e.disabled||(n("click",i),o())};return()=>{const{tag:i,type:g,size:c,block:m,round:I,plain:O,square:_,loading:C,disabled:v,hairline:T,nativeType:N,iconPosition:E}=e,P=[h([g,c,{plain:O,block:m,round:I,square:_,loading:C,disabled:v,hairline:T}]),{[ee]:T}];return d(i,{type:N,class:P,style:t(),disabled:v,onClick:a},{default:()=>[d("div",{class:h("content")},[E==="left"&&u(),f(),E==="right"&&u()])]})}}});const Fe=z(De);export{Fe as B,Me as t};
